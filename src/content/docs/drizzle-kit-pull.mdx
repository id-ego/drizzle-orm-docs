import CodeTab from "@mdx/CodeTab.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@mdx/Tab.astro";
import Tabs from "@mdx/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import Drivers from "@mdx/Drivers.mdx"
import Dialects from "@mdx/Dialects.mdx"
import Npm from "@mdx/Npm.astro"
import Npx from "@mdx/Npx.astro"

# `drizzle-kit pull`

<Prerequisites>
- Drizzle ë° `drizzle-kit` ì‹œì‘í•˜ê¸° - [ì—¬ê¸° ì½ê¸°](/docs/get-started)
- Drizzle ìŠ¤í‚¤ë§ˆ ê¸°ì´ˆ - [ì—¬ê¸° ì½ê¸°](/docs/sql-schema-declaration)
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê¸°ë³¸ - [ì—¬ê¸° ì½ê¸°](/docs/connect-overview)
- Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ì´ˆ - [ì—¬ê¸° ì½ê¸°](/docs/migrations)
- Drizzle Kit [ê°œìš”](/docs/kit-overview) ë° [ì„¤ì • íŒŒì¼](/docs/drizzle-config-file) ë¬¸ì„œ
</Prerequisites>

`drizzle-kit pull`ì„ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™€(ì¸íŠ¸ë¡œìŠ¤í™ì…˜) `schema.ts` Drizzle ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©°,
Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ì˜ [ë°ì´í„°ë² ì´ìŠ¤ ìš°ì„ ](/docs/migrations) ì ‘ê·¼ ë°©ì‹ì„ ì§€ì›í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

<Callout collapsed="ë‚´ë¶€ ë™ì‘ ì›ë¦¬">
Drizzle Kit `pull` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´:
1. ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ(DDL)ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤
2. `schema.ts` Drizzle ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ìƒì„±í•˜ì—¬ `out` í´ë”ì— ì €ì¥í•©ë‹ˆë‹¤

<Section>
```
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
                                  â”‚                        â”‚ <---  CREATE TABLE "users" (
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                        â”‚        "id" SERIAL PRIMARY KEY,
â”‚ ~ drizzle-kit pull       â”‚      â”‚                        â”‚        "name" TEXT,
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚        DATABASE        â”‚        "email" TEXT UNIQUE
  â”‚                               â”‚                        â”‚       );
  â”” Pull datatabase schema -----> â”‚                        â”‚
  â”Œ Generate Drizzle       <----- â”‚                        â”‚
  â”‚ schema TypeScript file        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  v
```
```typescript
import * as p from "drizzle-orm/pg-core";

export const users = p.pgTable("users", {
  id: p.serial().primaryKey(),
  name: p.text(),
  email: p.text().unique(), 
};
```
</Section>
</Callout>

TypeScript í”„ë¡œì íŠ¸ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê´€ë¦¬í•´ì•¼ í•˜ê±°ë‚˜
ë‹¤ë¥¸ ì‚¬ëŒì´ ê´€ë¦¬í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ìœ ìš©í•œ ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤.

<br/>
<hr/>
<br/>

`drizzle-kit pull`ì€ `dialect`ì™€ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° `url` ë˜ëŠ” `user:password@host:port/db` íŒŒë¼ë¯¸í„° ì¤‘ í•˜ë‚˜ë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.
[drizzle.config.ts](/docs/drizzle-config-file) ì„¤ì • íŒŒì¼ ë˜ëŠ” CLI ì˜µì…˜ì„ í†µí•´ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

<CodeTabs items={["ì„¤ì • íŒŒì¼ ì‚¬ìš©", "CLI ì˜µì…˜ ì‚¬ìš©"]}>
<Section>
```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
});
```
```shell
npx drizzle-kit pull
```
</Section>

```shell
npx drizzle-kit pull --dialect=postgresql --url=postgresql://user:password@host:port/dbname
```
</CodeTabs>

### í”„ë¡œì íŠ¸ì— ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ ì‚¬ìš©

í”„ë¡œì íŠ¸ì— ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ì„ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í…Œì´ì§€, ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” ë™ì¼í•œ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤:

<Npx>
  drizzle-kit pull --config=drizzle-dev.config.ts
  drizzle-kit pull --config=drizzle-prod.config.ts
</Npx>
```plaintext {5-6}
ğŸ“¦ <project root>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

### ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ ì§€ì •
<Callout type="warning">
**Expo SQLite** ë° **OP SQLite**ëŠ” ì˜¨-ë””ë°”ì´ìŠ¤(ì‚¬ìš©ìë³„) ë°ì´í„°ë² ì´ìŠ¤ì´ë¯€ë¡œ ì—¬ê¸°ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ `pull`í•  ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤.<br/>
ì„ë² ë””ë“œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½ìš° Drizzleì€ **ì„ë² ë””ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜**ì„ ì œê³µí•©ë‹ˆë‹¤ - [ì‹œì‘í•˜ê¸°](/docs/get-started/expo-new) ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.
</Callout>
Drizzle Kitì—ëŠ” ì‚¬ì „ ë²ˆë“¤ëœ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ê°€ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©°,
`dialect`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ ìë™ìœ¼ë¡œ ì„ íƒí•©ë‹ˆë‹¤ - [í† ë¡  ë³´ê¸°](https://github.com/drizzle-team/drizzle-orm/discussions/2203).

ëŒ€ë¶€ë¶„ì˜ ë™ì¼í•œ dialectì˜ ë“œë¼ì´ë²„ëŠ” ë™ì¼í•œ ì—°ê²° íŒŒë¼ë¯¸í„°ë¥¼ ê³µìœ í•˜ì§€ë§Œ,
`aws-data-api`, `pglight`, `d1-http`ì™€ ê°™ì€ ì˜ˆì™¸ì˜ ê²½ìš° ëª…ì‹œì ìœ¼ë¡œ `driver` íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

<CodeTabs items={["AWS Data API", "PGLite", "Cloudflare D1 HTTP"]}>
```ts {6}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  driver: "aws-data-api",
  dbCredentials: {
    database: "database",
    resourceArn: "resourceArn",
    secretArn: "secretArn",
  },
};
```
```ts {6}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  driver: "pglite",
  dbCredentials: {
    // inmemory
    url: ":memory:"
    
    // or database folder
    url: "./database/"
  },
};
```
```ts {6}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "sqlite",
  driver: "d1-http",
  dbCredentials: {
    accountId: "accountId",
    databaseId: "databaseId",
    token: "token",
  },
};
```
</CodeTabs>

### ì´ˆê¸° í’€

<Callout type='error'>
ì´ ê¸°ëŠ¥ì€ `1.0.0-beta.2` ì´ìƒì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

<Npm>
drizzle-orm@beta
drizzle-kit@beta -D
</Npm>

<br/>

`--init` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¨ ìŠ¤í‚¤ë§ˆë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©ëœ ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆìœ¼ë©°,
ì´í›„ì˜ ëª¨ë“  ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ì´ˆê¸° ìŠ¤í‚¤ë§ˆë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµë©ë‹ˆë‹¤

```shell
npx drizzle-kit push --init
```

### í…Œì´ë¸”, ìŠ¤í‚¤ë§ˆ ë° í™•ì¥ í¬í•¨
`drizzle-kit push`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `public` ìŠ¤í‚¤ë§ˆì˜ ëª¨ë“  í…Œì´ë¸”ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
`tablesFilters`, `schemaFilter`, `extensionFilters` ì˜µì…˜ì„ í†µí•´ í…Œì´ë¸”, ìŠ¤í‚¤ë§ˆ ë° í™•ì¥ ëª©ë¡ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

|                     |                                                                                               |
| :------------------ | :-------------------------------------------------------------------------------------------- |
| `tablesFilter`      | `glob` ê¸°ë°˜ í…Œì´ë¸” ì´ë¦„ í•„í„°, ì˜ˆ: `["users", "user_info"]` ë˜ëŠ” `"user*"`. ê¸°ë³¸ê°’ì€ `"*"` |
| `schemaFilter`      | `glob` ê¸°ë°˜ ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°, ì˜ˆ: `["public", "drizzle"]` ë˜ëŠ” `"drizzle*"`. ê¸°ë³¸ê°’ì€ `"*"`                     |
| `extensionsFilters` | ì„¤ì¹˜ëœ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ëª©ë¡, ì˜ˆ: `["postgis"]`. ê¸°ë³¸ê°’ì€ `[]`                    |
<br/>

drizzle-kitì´ **public** ìŠ¤í‚¤ë§ˆì˜ **ëª¨ë“  í…Œì´ë¸”**ì—ë§Œ ì‘ë™í•˜ë„ë¡ êµ¬ì„±í•˜ê³ ,
**postgis** í™•ì¥ì´ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©° public ìŠ¤í‚¤ë§ˆì— ìì²´ í…Œì´ë¸”ì„ ìƒì„±í•˜ë¯€ë¡œ Drizzleì´ ì´ë¥¼ ë¬´ì‹œí•  ìˆ˜ ìˆë„ë¡ ì•Œë ¤ì¤ë‹ˆë‹¤.

<Section>
```ts filename="drizzle.config.ts" {9-11}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
  extensionsFilters: ["postgis"],
  schemaFilter: ["public"],
  tablesFilter: ["*"],
});
```
```shell
npx drizzle-kit push
```
</Section>

### í™•ì¥ ì„¤ì • ëª©ë¡
[drizzle.config.ts](/docs/drizzle-config-file) íŒŒì¼ì„ í†µí•´ `drizzle-kit`ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ì§€ë§Œ,
í•„ìš”í•œ ê²½ìš°(ì˜ˆ: CI/CD íŒŒì´í”„ë¼ì¸ ë“±) CLIë¥¼ í†µí•´ ëª¨ë“  ì„¤ì • ì˜µì…˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

|                     |            |                                                                           |
| :------------------ | :--------- | :------------------------------------------------------------------------ |
| `dialect`           | `required` | ë°ì´í„°ë² ì´ìŠ¤ dialect, <Dialects/> ì¤‘ í•˜ë‚˜                                      |
| `driver`            |            | ë“œë¼ì´ë²„ ì˜ˆì™¸ <Drivers/>                                             |
| `out`               |            | ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶œë ¥ í´ë” ê²½ë¡œ, ê¸°ë³¸ê°’ì€ `./drizzle`                     |
| `url`               |            | ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ìì—´                                                |
| `user`              |            | ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì                                                             |
| `password`          |            | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸                                                         |
| `host`              |            | í˜¸ìŠ¤íŠ¸                                                                      |
| `port`              |            | í¬íŠ¸                                                                      |
| `database`          |            | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„                                                             |
| `config`            |            | ì„¤ì • íŒŒì¼ ê²½ë¡œ, ê¸°ë³¸ê°’ì€ `drizzle.config.ts`                          |
| `introspect-casing` |            | ì»¬ëŸ¼, í…Œì´ë¸” ë“±ì˜ JS í‚¤ ìƒì„± ì „ëµ. `preserve` `camel` |
| `tablesFilter`      |            | í…Œì´ë¸” ì´ë¦„ í•„í„°                                                         |
| `schemaFilter`      |            | ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°. ê¸°ë³¸ê°’: `["public"]`                                 |
| `extensionsFilters` |            | ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ë‚´ë¶€ ë°ì´í„°ë² ì´ìŠ¤ í•„í„°                             |

<Npx>
drizzle-kit pull --dialect=postgresql --url=postgresql://user:password@host:port/dbname
drizzle-kit pull --dialect=postgresql --driver=pglite url=database/
drizzle-kit pull --dialect=postgresql --tablesFilter='user*' --extensionsFilters=postgis url=postgresql://user:password@host:port/dbname
</Npx>

![](@/assets/gifs/introspect_mysql.gif)
