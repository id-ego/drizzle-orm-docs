# Drizzle 서버리스 성능

AWS Lambda나 Vercel Server Functions(AWS Lambda 기반)과 같은 `서버리스 함수`는 최대 15분까지 실행되고 데이터베이스 연결과 prepared statement를 재사용할 수 있어 엄청난 성능 이점을 얻을 수 있습니다.

반면에 `엣지 함수`는 호출 직후 정리되는 경향이 있어 성능상 이점이 거의 없습니다.

데이터베이스 연결과 prepared statement를 재사용하려면 핸들러 스코프 외부에 선언하기만 하면 됩니다:
```ts
const databaseConnection = ...;
const db = drizzle({ client: databaseConnection });
const prepared = db.select().from(...).prepare();

// AWS handler
export const handler = async (event: APIGatewayProxyEvent) => {
  return prepared.execute();
}
```
