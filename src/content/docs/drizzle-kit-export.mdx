import CodeTab from "@mdx/CodeTab.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@mdx/Tab.astro";
import Tabs from "@mdx/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro"
import Npx from "@mdx/Npx.astro";
import SchemaFilePaths from "@mdx/SchemaFilePaths.mdx"
import Dialects from "@mdx/Dialects.mdx"

# `drizzle-kit export`

<Prerequisites>
- Drizzleê³¼ `drizzle-kit` ì‹œì‘í•˜ê¸° - [ì—¬ê¸°ì—ì„œ ì½ê¸°](/docs/get-started)
- Drizzle ìŠ¤í‚¤ë§ˆ ê¸°ì´ˆ - [ì—¬ê¸°ì—ì„œ ì½ê¸°](/docs/sql-schema-declaration)
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê¸°ë³¸ ì‚¬í•­ - [ì—¬ê¸°ì—ì„œ ì½ê¸°](/docs/connect-overview)
- Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ì´ˆ - [ì—¬ê¸°ì—ì„œ ì½ê¸°](/docs/migrations)
- Drizzle Kit [ê°œìš”](/docs/kit-overview) ë° [ì„¤ì • íŒŒì¼](/docs/drizzle-config-file)
</Prerequisites>


<br/>

`drizzle-kit export`ëŠ” Drizzle ìŠ¤í‚¤ë§ˆì˜ SQL í‘œí˜„ì„ ë‚´ë³´ë‚´ê³  ì½˜ì†”ì— SQL DDL í‘œí˜„ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
<Callout collapsed="ë‚´ë¶€ ë™ì‘ ë°©ì‹">
Drizzle Kit `export` ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì´ë²¤íŠ¸ ì‹œí€€ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:
1. Drizzle ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ì½ê³  ìŠ¤í‚¤ë§ˆì˜ JSON ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•©ë‹ˆë‹¤
2. JSON ì°¨ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ SQL DDL ë¬¸ì„ ìƒì„±í•©ë‹ˆë‹¤
3. SQL DDL ë¬¸ì„ ì½˜ì†”ì— ì¶œë ¥í•©ë‹ˆë‹¤
</Callout>

ì´ ëª…ë ¹ì–´ëŠ” Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ê´€ë¦¬í•˜ëŠ” [ì½”ë“œë² ì´ìŠ¤ ìš°ì„ ](/docs/migrations) ì ‘ê·¼ ë°©ì‹ì„ ì§€ì›í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
Drizzle ìŠ¤í‚¤ë§ˆì˜ SQL í‘œí˜„ì„ ë‚´ë³´ë‚´ Atlasì™€ ê°™ì€ ì™¸ë¶€ ë„êµ¬ê°€ ëª¨ë“  ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

`drizzle-kit export` ëª…ë ¹ì–´ëŠ” `dialect`ì™€ `schema` ê²½ë¡œ ì˜µì…˜ì„ ëª¨ë‘ ì œê³µí•´ì•¼ í•˜ë©°,
[drizzle.config.ts](/docs/drizzle-config-file) ì„¤ì • íŒŒì¼ ë˜ëŠ” CLI ì˜µì…˜ì„ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
<CodeTabs items={["ì„¤ì • íŒŒì¼ ì‚¬ìš©", "CLI ì˜µì…˜ ì‚¬ìš©"]}>
<Section>
```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
});
```
```shell
npx drizzle-kit export
```
</Section>

```shell
npx drizzle-kit export --dialect=postgresql --schema=./src/schema.ts
```
</CodeTabs>

### ìŠ¤í‚¤ë§ˆ íŒŒì¼ ê²½ë¡œ
ë‹¨ì¼ `schema.ts` íŒŒì¼ì„ ì‚¬ìš©í•˜ê±°ë‚˜ í”„ë¡œì íŠ¸ ì „ì²´ì— ì—¬ëŸ¬ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ë¶„ì‚°ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Drizzle Kitì€ `schema` ì„¤ì • ì˜µì…˜ì„ í†µí•´ [glob](https://www.digitalocean.com/community/tools/glob?comments=true&glob=/**/*.js&matches=false&tests=//%20This%20will%20match%20as%20it%20ends%20with%20'.js'&tests=/hello/world.js&tests=//%20This%20won't%20match!&tests=/test/some/globs) í˜•ì‹ìœ¼ë¡œ ê²½ë¡œë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

<SchemaFilePaths/>

### í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì— ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ ì‚¬ìš©
í”„ë¡œì íŠ¸ì— ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ì„ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ë‹¨ê³„, ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” ê°™ì€ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤:
<Npx>
  drizzle-kit export --config=drizzle-dev.config.ts
  drizzle-kit export --config=drizzle-prod.config.ts
</Npx>
```plaintext {5-6}
ğŸ“¦ <project root>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

### ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ì • ì „ì²´ ëª©ë¡
`drizzle-kit export`ì—ëŠ” CLI ì „ìš© ì˜µì…˜ ëª©ë¡ì´ ìˆìŠµë‹ˆë‹¤

<rem025/>

|               |                                                      |
| :--------     | :--------------------------------------------------- |
| `--sql`       | Drizzle ìŠ¤í‚¤ë§ˆì˜ SQL í‘œí˜„ ìƒì„±               |

ê¸°ë³¸ì ìœ¼ë¡œ Drizzle Kitì€ SQL íŒŒì¼ì„ ì¶œë ¥í•˜ì§€ë§Œ, í–¥í›„ ë‹¤ì–‘í•œ í˜•ì‹ì„ ì§€ì›í•  ì˜ˆì •ì…ë‹ˆë‹¤

<rem025/>

<Npx>
drizzle-kit push --name=init
drizzle-kit push --name=seed_users --custom
</Npx>

<br/>
<hr/>
<br/>
[drizzle.config.ts](/docs/drizzle-config-file) íŒŒì¼ì„ í†µí•´ `drizzle-kit`ì„ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ì§€ë§Œ,
í•„ìš”í•œ ê²½ìš°(ì˜ˆ: CI/CD íŒŒì´í”„ë¼ì¸ ë“±) CLIë¥¼ í†µí•´ ëª¨ë“  ì„¤ì • ì˜µì…˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

|               |            |                                                                            |
| :------------ | :-------   | :----------------------------------------------------------------------    |
| `dialect`     | `required` | ë°ì´í„°ë² ì´ìŠ¤ dialect, <Dialects/> ì¤‘ í•˜ë‚˜                                       |
| `schema`      | `required` | TypeScript ìŠ¤í‚¤ë§ˆ íŒŒì¼ ë˜ëŠ” ì—¬ëŸ¬ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì´ ìˆëŠ” í´ë”ì˜ ê²½ë¡œ  |
| `config`      |            | ì„¤ì • íŒŒì¼ ê²½ë¡œ, ê¸°ë³¸ê°’ì€ `drizzle.config.ts`                    |

### ì˜ˆì œ
`./src/schema.ts`ì— ìœ„ì¹˜í•œ Drizzle ìŠ¤í‚¤ë§ˆë¥¼ ì½˜ì†”ì— ë‚´ë³´ë‚´ëŠ” ë°©ë²•ì˜ ì˜ˆì œì…ë‹ˆë‹¤

ë˜í•œ drizzle ì„¤ì • íŒŒì¼ì„ `configs` í´ë”ì— ë°°ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.

ì„¤ì • íŒŒì¼ì„ ìƒì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤:

```plaintext {4}
ğŸ“¦ <project root>
 â”œ ğŸ“‚ configs
 â”‚ â”” ğŸ“œ drizzle.config.ts
 â”œ ğŸ“‚ src
 â”‚ â”” ğŸ“œ schema.ts
 â”” â€¦
```
```ts filename='drizzle.config.ts'
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
});
```

```ts filename='schema.ts'
import { pgTable, serial, text } from 'drizzle-orm/pg-core'

export const users = pgTable('users', {
	id: serial('id').primaryKey(),
	email: text('email').notNull(),
	name: text('name')
});
```

ì´ì œ ë‹¤ìŒì„ ì‹¤í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤
```shell
npx drizzle-kit export --config=./configs/drizzle.config.ts
```
ê·¸ëŸ¬ë©´ drizzle ìŠ¤í‚¤ë§ˆì˜ SQL í‘œí˜„ì´ ì„±ê³µì ìœ¼ë¡œ ì¶œë ¥ë©ë‹ˆë‹¤
```bash
CREATE TABLE "users" (
        "id" serial PRIMARY KEY NOT NULL,
        "email" text NOT NULL,
        "name" text
);
```