import CodeTab from "@mdx/CodeTab.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@mdx/Tab.astro";
import Tabs from "@mdx/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import Npx from "@mdx/Npx.astro";
import SchemaFilePaths from "@mdx/SchemaFilePaths.mdx";
import Drivers from "@mdx/Drivers.mdx"
import Dialects from "@mdx/Dialects.mdx"
import DriversExamples from "@mdx/DriversExamples.mdx"

# `drizzle-kit push`

<Prerequisites>
- Drizzleê³¼ `drizzle-kit` ì‹œì‘í•˜ê¸° - [ì—¬ê¸° ì½ê¸°](/docs/get-started)
- Drizzle ìŠ¤í‚¤ë§ˆ ê¸°ì´ˆ - [ì—¬ê¸° ì½ê¸°](/docs/sql-schema-declaration)
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê¸°ë³¸ - [ì—¬ê¸° ì½ê¸°](/docs/connect-overview)
- Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ì´ˆ - [ì—¬ê¸° ì½ê¸°](/docs/migrations)
- Drizzle Kit [ê°œìš”](/docs/kit-overview) ë° [ì„¤ì • íŒŒì¼](/docs/drizzle-config-file) ë¬¸ì„œ
</Prerequisites>


`drizzle-kit push`ëŠ” SQL íŒŒì¼ ìƒì„±ì„ ìƒëµí•˜ê³  ìŠ¤í‚¤ë§ˆì™€ í›„ì† ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‚¬í•­ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ í‘¸ì‹œí•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ì˜ [ì½”ë“œ ìš°ì„ ](/docs/migrations) ì ‘ê·¼ ë°©ì‹ì„ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

<Callout collapsed="ë‚´ë¶€ ë™ì‘ ë°©ì‹">
Drizzle Kit `push` ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•©ë‹ˆë‹¤:
1. Drizzle ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ì½ê³  ìŠ¤í‚¤ë§ˆì˜ JSON ìŠ¤ëƒ…ìƒ·ì„ êµ¬ì„±í•©ë‹ˆë‹¤
2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ í’€(ì¸íŠ¸ë¡œìŠ¤í™ì…˜)í•©ë‹ˆë‹¤
3. ë‘ ìŠ¤í‚¤ë§ˆì˜ ì°¨ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ SQL ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±í•©ë‹ˆë‹¤
4. ë°ì´í„°ë² ì´ìŠ¤ì— SQL ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì ìš©í•©ë‹ˆë‹¤

<Section>
```typescript filename="src/schema.ts"
import * as p from "drizzle-orm/pg-core";

export const users = p.pgTable("users", {
  id: p.serial().primaryKey(),
  name: p.text(),
};
```
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  
â”‚ ~ drizzle-kit push  â”‚                  
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  
  â”‚                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”” í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í’€(Pull) --------> â”‚                          â”‚
                                              â”‚                          â”‚
  â”Œ ì°¨ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ ìƒì„± <------------ â”‚         DATABASE         â”‚
  â”‚                                           â”‚                          â”‚
  â”” ë°ì´í„°ë² ì´ìŠ¤ì— ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© --------> â”‚                          â”‚
                                       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   create table users(id serial primary key, name text);
```
</Section>
</Callout>

ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ì„ ìœ„í•œ ìµœê³ ì˜ ì ‘ê·¼ ë°©ì‹ì´ë©°, ìˆ˜ë§ì€ íŒ€ê³¼ ê°œë°œìë“¤ì´ í”„ë¡œë•ì…˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì£¼ìš” ë§ˆì´ê·¸ë ˆì´ì…˜ í”Œë¡œìš°ë¡œ ì„±ê³µì ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ë¸”ë£¨/ê·¸ë¦° ë°°í¬ ì „ëµ ë° [Planetscale](https://planetscale.com), [Neon](https://neon.tech), [Turso](https://turso.tech/drizzle)ì™€ ê°™ì€ ì„œë²„ë¦¬ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë§¤ìš° ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.

<br/>
<hr/>
<br/>


`drizzle-kit push`ëŠ” `dialect`, `schema` íŒŒì¼ ê²½ë¡œ, ê·¸ë¦¬ê³  ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° `url` ë˜ëŠ” `user:password@host:port/db` íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.
ì´ë“¤ì€ [drizzle.config.ts](/docs/drizzle-config-file) ì„¤ì • íŒŒì¼ì´ë‚˜ CLI ì˜µì…˜ì„ í†µí•´ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

<CodeTabs items={["ì„¤ì • íŒŒì¼ ì‚¬ìš©", "CLI ì˜µì…˜ ì‚¬ìš©"]}>
<Section>
```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
});
```
```shell
npx drizzle-kit push
```
</Section>

```shell
npx drizzle-kit push --dialect=postgresql --schema=./src/schema.ts --url=postgresql://user:password@host:port/dbname
```

</CodeTabs>

### ìŠ¤í‚¤ë§ˆ íŒŒì¼ ê²½ë¡œ

ë‹¨ì¼ `schema.ts` íŒŒì¼ì„ ì‚¬ìš©í•˜ê±°ë‚˜ í”„ë¡œì íŠ¸ ì „ì²´ì— ë¶„ì‚°ëœ ì—¬ëŸ¬ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Drizzle Kitì€ `schema` ì„¤ì • ì˜µì…˜ì„ í†µí•´ [glob](https://www.digitalocean.com/community/tools/glob?comments=true&glob=/**/*.js&matches=false&tests=//%20This%20will%20match%20as%20it%20ends%20with%20'.js'&tests=/hello/world.js&tests=//%20This%20won't%20match!&tests=/test/some/globs) í˜•ì‹ìœ¼ë¡œ ê²½ë¡œë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

<SchemaFilePaths />

### í”„ë¡œì íŠ¸ì—ì„œ ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ ì‚¬ìš©í•˜ê¸°

í”„ë¡œì íŠ¸ì—ì„œ ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í…Œì´ì§€ë‚˜ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤, ë˜ëŠ” ê°™ì€ í”„ë¡œì íŠ¸ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤:

<Npx>
  drizzle-kit push --config=drizzle-dev.config.ts
  drizzle-kit push --config=drizzle-prod.config.ts
</Npx>
```plaintext {5-6}
ğŸ“¦ <project root>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

### ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ ì§€ì •
<Callout type="warning">
**Expo SQLite**ì™€ **OP SQLite**ëŠ” ì˜¨ë””ë°”ì´ìŠ¤(ì‚¬ìš©ìë³„) ë°ì´í„°ë² ì´ìŠ¤ë¡œ, ë§ˆì´ê·¸ë ˆì´ì…˜ì„ `push`í•  ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤.<br/>
ì„ë² ë””ë“œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½ìš° Drizzleì€ **embedded migrations**ë¥¼ ì œê³µí•©ë‹ˆë‹¤ - [ì‹œì‘í•˜ê¸°](/docs/get-started/expo-new) ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.
</Callout>
Drizzle Kitì€ ì‚¬ì „ ë²ˆë“¤ëœ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©°,
`dialect`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ ìë™ìœ¼ë¡œ ì„ íƒí•©ë‹ˆë‹¤ - [ë…¼ì˜ ì°¸ì¡°](https://github.com/drizzle-team/drizzle-orm/discussions/2203).

ëŒ€ë¶€ë¶„ì˜ ë™ì¼í•œ dialect ë“œë¼ì´ë²„ëŠ” ë™ì¼í•œ ì—°ê²° íŒŒë¼ë¯¸í„° ì„¸íŠ¸ë¥¼ ê³µìœ í•˜ì§€ë§Œ,
`aws-data-api`, `pglight`, `d1-http`ì™€ ê°™ì€ ì˜ˆì™¸ì˜ ê²½ìš° ëª…ì‹œì ìœ¼ë¡œ `driver` íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

<DriversExamples/>

### í…Œì´ë¸”, ìŠ¤í‚¤ë§ˆ, í™•ì¥ í¬í•¨í•˜ê¸°
`drizzle-kit push`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `public` ìŠ¤í‚¤ë§ˆì˜ ëª¨ë“  í…Œì´ë¸”ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
`tablesFilters`, `schemaFilter`, `extensionFilters` ì˜µì…˜ì„ í†µí•´ í…Œì´ë¸”, ìŠ¤í‚¤ë§ˆ, í™•ì¥ ëª©ë¡ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

|                     |                                                                                               |
| :------------------ | :-------------------------------------------------------------------------------------------- |
| `tablesFilter`      | `glob` ê¸°ë°˜ í…Œì´ë¸” ì´ë¦„ í•„í„°, ì˜ˆ: `["users", "user_info"]` ë˜ëŠ” `"user*"`. ê¸°ë³¸ê°’ì€ `"*"` |
| `schemaFilter`      | ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°, ì˜ˆ: `["public", "drizzle"]`. ê¸°ë³¸ê°’ì€ `["public"]`                    |
| `extensionsFilters` | ì„¤ì¹˜ëœ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ëª©ë¡, ì˜ˆ: `["postgis"]`. ê¸°ë³¸ê°’ì€ `[]`                    |
<br/>

**public** ìŠ¤í‚¤ë§ˆì˜ **ëª¨ë“  í…Œì´ë¸”**ì—ë§Œ ì‘ë™í•˜ë„ë¡ drizzle-kitì„ ì„¤ì •í•˜ê³ ,
public ìŠ¤í‚¤ë§ˆì— ìì²´ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” **postgis** í™•ì¥ì´ ì„¤ì¹˜ë˜ì–´ ìˆìŒì„ drizzle-kitì— ì•Œë ¤ì„œ drizzleì´ ì´ë¥¼ ë¬´ì‹œí•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

<Section>
```ts filename="drizzle.config.ts" {9-11}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
  extensionsFilters: ["postgis"],
  schemaFilter: ["public"],
  tablesFilter: ["*"],
});
```
```shell
npx drizzle-kit push
```
</Section>

### í™•ì¥ ì„¤ì • ëª©ë¡

`drizzle-kit push`ëŠ” CLI ì „ìš© ì˜µì…˜ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤

<rem025/>

|           |                                                          |
| :-------- | :---------------------------------------------------     |
| `verbose` | ì‹¤í–‰ ì „ ëª¨ë“  SQL êµ¬ë¬¸ ì¶œë ¥              |
| `strict`  | SQL êµ¬ë¬¸ ì‹¤í–‰ ì „ í•­ìƒ ìŠ¹ì¸ ìš”ì²­  |
| `force`   | ëª¨ë“  ë°ì´í„° ì†ì‹¤ êµ¬ë¬¸ ìë™ ìŠ¹ì¸                     |
<br/>
<Npx>
drizzle-kit push --strict --verbose --force
</Npx>

<br/>
<hr/>
<br/>
[drizzle.config.ts](/docs/drizzle-config-file) íŒŒì¼ì„ í†µí•´ `drizzle-kit`ì„ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ì§€ë§Œ,
CI/CD íŒŒì´í”„ë¼ì¸ ë“±ì—ì„œ í•„ìš”í•œ ê²½ìš° CLIë¥¼ í†µí•´ ëª¨ë“  ì„¤ì • ì˜µì…˜ì„ ì œê³µí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

|                     |            |                                                                           |
| :------------------ | :--------- | :------------------------------------------------------------------------ |
| `dialect`           | `required` | ë°ì´í„°ë² ì´ìŠ¤ dialect, <Dialects/> ì¤‘ í•˜ë‚˜                                      |
| `schema`            | `required` | TypeScript ìŠ¤í‚¤ë§ˆ íŒŒì¼ ë˜ëŠ” ì—¬ëŸ¬ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì´ ìˆëŠ” í´ë” ê²½ë¡œ |
| `driver`            |            | ë“œë¼ì´ë²„ ì˜ˆì™¸ <Drivers/>                                             |
| `tablesFilter`      |            | í…Œì´ë¸” ì´ë¦„ í•„í„°                                                         |
| `schemaFilter`      |            | ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°. ê¸°ë³¸ê°’: `["public"]`                                 |
| `extensionsFilters` |            | ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ë‚´ë¶€ ë°ì´í„°ë² ì´ìŠ¤ í•„í„°                             |
| `url`               |            | ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ìì—´                                                |
| `user`              |            | ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì                                                             |
| `password`          |            | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸                                                         |
| `host`              |            | í˜¸ìŠ¤íŠ¸                                                                      |
| `port`              |            | í¬íŠ¸                                                                      |
| `database`          |            | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„                                                             |
| `config`            |            | ì„¤ì • íŒŒì¼ ê²½ë¡œ, ê¸°ë³¸ê°’=`drizzle.config.ts`                             |

<Npx>
drizzle-kit push dialect=postgresql schema=src/schema.ts url=postgresql://user:password@host:port/dbname
drizzle-kit push dialect=postgresql schema=src/schema.ts driver=pglite url=database/
drizzle-kit push dialect=postgresql schema=src/schema.ts --tablesFilter='user*' --extensionsFilters=postgis url=postgresql://user:password@host:port/dbname
</Npx>


### í™•ì¥ ì˜ˆì œ
í”„ë¡œì íŠ¸ì—ì„œ drizzle ìŠ¤í‚¤ë§ˆë¥¼ ì„ ì–¸í•˜ê³  `drizzle-kit push` ëª…ë ¹ì„ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ì— í‘¸ì‹œí•´ë³´ê² ìŠµë‹ˆë‹¤

```plaintext
ğŸ“¦ <project root>
 â”œ ğŸ“‚ src
 â”‚ â”œ ğŸ“œ schema.ts
 â”‚ â”” ğŸ“œ index.ts
 â”œ ğŸ“œ drizzle.config.ts
 â”” â€¦
```
<CodeTabs items={["drizzle.config.ts", "src/schema.ts"]}>
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname"
  },
});
```
```ts
import * as p from "drizzle-orm/pg-core";

export const users = p.pgTable("users", {
  id: p.serial().primaryKey(),
  name: p.text(),
})
```
</CodeTabs>

ì´ì œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤
```shell
npx drizzle-kit push
```

ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê¸°ì¡´(ë¹ˆ) ìŠ¤í‚¤ë§ˆë¥¼ í’€í•˜ê³  SQL ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±í•œ í›„ ë‚´ë¶€ì ìœ¼ë¡œ ì ìš©í•©ë‹ˆë‹¤
```sql
CREATE TABLE "users"(
  id serial primary key,
  name text
)
```

ì™„ë£Œ âœ…
