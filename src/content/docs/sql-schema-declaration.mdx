import Tab from '@mdx/Tab.astro';
import Tabs from '@mdx/Tabs.astro';
import Callout from '@mdx/Callout.astro';
import SimpleLinkCards from '@mdx/SimpleLinkCards.astro';
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from '@mdx/Section.astro';
import Flex from "@mdx/Flex.astro"
import LinksList from "@mdx/LinksList.astro"

# Drizzle ìŠ¤í‚¤ë§ˆ

Drizzleì„ ì‚¬ìš©í•˜ë©´ ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì§€ì›í•˜ëŠ” ë‹¤ì–‘í•œ ëª¨ë¸ê³¼ ì†ì„±ì„ TypeScriptë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•˜ë©´ í–¥í›„ ì¿¼ë¦¬(Drizzle ORM ì‚¬ìš©) ë° ë§ˆì´ê·¸ë ˆì´ì…˜(Drizzle Kit ì‚¬ìš©)ì—ì„œ ìˆ˜ì • ì‚¬í•­ì˜ ê¸°ì¤€ì´ ë©ë‹ˆë‹¤.

<Callout>
ë§ˆì´ê·¸ë ˆì´ì…˜ í”„ë¡œì„¸ìŠ¤ì— Drizzle Kitì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ìŠ¤í‚¤ë§ˆ íŒŒì¼ì— ì •ì˜ëœ ëª¨ë“  ëª¨ë¸ì„ exportí•´ì•¼ Drizzle Kitì´ ì´ë¥¼ importí•˜ì—¬ ë§ˆì´ê·¸ë ˆì´ì…˜ diff í”„ë¡œì„¸ìŠ¤ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

<CodeTabs items={["Using imports", "Using callback", "Using import *"]}>
```ts
import { integer, pgTable, varchar } from "drizzle-orm/pg-core";

export const usersTable = pgTable("users", {
  id: integer().primaryKey().generatedAlwaysAsIdentity(),
  name: varchar().notNull(),
  age: integer().notNull(),
  email: varchar().notNull().unique(),
});
```
```ts
import { pgTable } from "drizzle-orm/pg-core";

export const usersTable = pgTable("users", (t) => ({
  id: t.integer().primaryKey().generatedAlwaysAsIdentity(),
  name: t.varchar().notNull(),
  age: t.integer().notNull(),
  email: t.varchar().notNull().unique(),
}));
```
```ts
import * as p from "drizzle-orm/pg-core";

export const usersTable = p.pgTable("users", {
  id: p.integer().primaryKey().generatedAlwaysAsIdentity(),
  name: p.varchar().notNull(),
  age: p.integer().notNull(),
  email: p.varchar().notNull().unique(),
});
```
</CodeTabs>

## ìŠ¤í‚¤ë§ˆ íŒŒì¼ êµ¬ì„±
TypeScriptì—ì„œ SQL ìŠ¤í‚¤ë§ˆë¥¼ ë‹¨ì¼ `schema.ts` íŒŒì¼ë¡œ ì„ ì–¸í•˜ê±°ë‚˜ ì—¬ëŸ¬ íŒŒì¼ë¡œ ë¶„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì›í•˜ëŠ” ë°©ì‹ì„ ììœ ë¡­ê²Œ ì„ íƒí•˜ì„¸ìš”!

#### 1ê°œ íŒŒì¼ì— ìŠ¤í‚¤ë§ˆ ì •ì˜
Drizzleë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì„ ì–¸í•˜ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ ë°©ë²•ì€ ëª¨ë“  í…Œì´ë¸”ì„ í•˜ë‚˜ì˜ `schema.ts` íŒŒì¼ì— ë°°ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

> ì°¸ê³ : ìŠ¤í‚¤ë§ˆ íŒŒì¼ ì´ë¦„ì€ ì›í•˜ëŠ” ëŒ€ë¡œ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `models.ts` ë˜ëŠ” ë‹¤ë¥¸ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ë°©ì‹ì€ ì •ì˜ëœ í…Œì´ë¸” ëª¨ë¸ì´ ë§ì§€ ì•Šê±°ë‚˜ ëª¨ë“  í…Œì´ë¸”ì„ í•œ íŒŒì¼ì— ë³´ê´€í•´ë„ ê´œì°®ì€ ê²½ìš°ì— ì í•©í•©ë‹ˆë‹¤.

ì˜ˆì œ:
```plaintext
ğŸ“¦ <project root>
 â”” ğŸ“‚ src
    â”” ğŸ“‚ db
       â”” ğŸ“œ schema.ts
```

`drizzle.config.ts` íŒŒì¼ì—ì„œ ìŠ¤í‚¤ë§ˆ íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì„¤ì •ìœ¼ë¡œ Drizzleì€ `schema.ts` íŒŒì¼ì„ ì½ê³  ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± í”„ë¡œì„¸ìŠ¤ì—ì„œ ì´ ì •ë³´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. `drizzle.config.ts` íŒŒì¼ ë° Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”: [ë§í¬](/docs/drizzle-config-file)
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: 'postgresql', // 'mysql' | 'sqlite' | 'turso'
  schema: './src/db/schema.ts'
})
```

#### ì—¬ëŸ¬ íŒŒì¼ì— ìŠ¤í‚¤ë§ˆ ì •ì˜

Drizzle ëª¨ë¸(í…Œì´ë¸”, enum, sequence ë“±)ì„ í•œ íŒŒì¼ë¿ë§Œ ì•„ë‹ˆë¼ ì›í•˜ëŠ” ëª¨ë“  íŒŒì¼ì— ë°°ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë‹¨, Drizzle Kitì´ ë§ˆì´ê·¸ë ˆì´ì…˜ì—ì„œ importí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ë‹¹ íŒŒì¼ì—ì„œ ëª¨ë“  ëª¨ë¸ì„ exportí•´ì•¼ í•©ë‹ˆë‹¤.

ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ëŠ” ê° í…Œì´ë¸”ì„ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
```plaintext
ğŸ“¦ <project root>
 â”” ğŸ“‚ src
    â”” ğŸ“‚ db
       â”” ğŸ“‚ schema
          â”œ ğŸ“œ users.ts
          â”œ ğŸ“œ countries.ts
          â”œ ğŸ“œ cities.ts
          â”œ ğŸ“œ products.ts
          â”œ ğŸ“œ clients.ts
          â”” ğŸ“œ etc.ts
```

`drizzle.config.ts` íŒŒì¼ì—ì„œ ìŠ¤í‚¤ë§ˆ í´ë” ê²½ë¡œë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì„¤ì •ìœ¼ë¡œ Drizzleì€ `schema` í´ë”ë¥¼ ì½ê³  ì¬ê·€ì ìœ¼ë¡œ ëª¨ë“  íŒŒì¼ì„ ì°¾ì•„ ëª¨ë“  Drizzle í…Œì´ë¸”ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. `drizzle.config.ts` íŒŒì¼ ë° Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”: [ë§í¬](/docs/drizzle-config-file)

```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: 'postgresql', // 'mysql' | 'sqlite' | 'turso'
  schema: './src/db/schema'
})
```

ì‚¬ìš©ì ê´€ë ¨ í…Œì´ë¸”, ë©”ì‹œì§• ê´€ë ¨ í…Œì´ë¸”, ì œí’ˆ ê´€ë ¨ í…Œì´ë¸” ë“±ê³¼ ê°™ì´ ì›í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê·¸ë£¹í™”í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
```plaintext
ğŸ“¦ <project root>
 â”” ğŸ“‚ src
    â”” ğŸ“‚ db
       â”” ğŸ“‚ schema
          â”œ ğŸ“œ users.ts
          â”œ ğŸ“œ messaging.ts
          â”” ğŸ“œ products.ts
```

## ë°ì´í„° ìŠ¤í‚¤ë§ˆ êµ¬ì„±

Drizzle ìŠ¤í‚¤ë§ˆëŠ” ì‚¬ìš© ì¤‘ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì—¬ëŸ¬ ëª¨ë¸ íƒ€ì…ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. Drizzleë¡œ ë‹¤ìŒì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- ì»¬ëŸ¼, ì œì•½ì¡°ê±´ ë“±ì´ í¬í•¨ëœ í…Œì´ë¸”
- ìŠ¤í‚¤ë§ˆ(PostgreSQL ì „ìš©)
- Enum
- Sequence(PostgreSQL ì „ìš©)
- ë·°
- êµ¬ì²´í™” ë·°(Materialized View)
- ê¸°íƒ€

Drizzleë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ì„ í•˜ë‚˜ì”© ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

#### **í…Œì´ë¸” ë° ì»¬ëŸ¼ ì„ ì–¸**

Drizzleì˜ í…Œì´ë¸”ì€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìµœì†Œ 1ê°œì˜ ì»¬ëŸ¼ìœ¼ë¡œ ì •ì˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. í•œ ê°€ì§€ ì¤‘ìš”í•œ ì ì€ Drizzleì—ëŠ” ê³µí†µ í…Œì´ë¸” ê°ì²´ê°€ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì‚¬ìš©í•˜ëŠ” dialect(PostgreSQL, MySQL, SQLite)ë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.

![](@/assets/images/table-structure.svg)

<CodeTabs items={["PostgreSQL Table", "MySQL Table", "SQLite Table"]}>
```ts copy
import { pgTable, integer } from "drizzle-orm/pg-core"

export const users = pgTable('users', {
  id: integer()
});
```
```ts copy
import { mysqlTable, int } from "drizzle-orm/mysql-core"

export const users = mysqlTable('users', {
  id: int()
});
```
```ts copy
import { sqliteTable, integer } from "drizzle-orm/sqlite-core"

export const users = sqliteTable('users', {
  id: integer()
});
```
</CodeTabs>

ê¸°ë³¸ì ìœ¼ë¡œ Drizzleì€ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì—ì„œ ì»¬ëŸ¼ì— ëŒ€í•´ TypeScript í‚¤ ì´ë¦„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
ë”°ë¼ì„œ ì˜ˆì œì˜ ìŠ¤í‚¤ë§ˆì™€ ì¿¼ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ì€ SQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

<Callout>
ì´ ì˜ˆì œëŠ” db ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ˆê¸°í™” ë°©ë²•ì€ ì´ ë¬¸ì„œì—ì„œ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë°©ë²•ì„ ì•Œì•„ë³´ë ¤ë©´ [ì—°ê²° ë¬¸ì„œ](/docs/get-started-postgresql)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.
</Callout>

\
**TypeScript í‚¤ = ë°ì´í„°ë² ì´ìŠ¤ í‚¤**
<Section>
```ts
// schema.ts
import { integer, pgTable, varchar } from "drizzle-orm/pg-core";

export const users = pgTable('users', {
  id: integer(),
  first_name: varchar()
})
```
```ts
// query.ts
await db.select().from(users);
```
```sql
SELECT "id", "first_name" from users;
```
</Section>

TypeScript ì½”ë“œì™€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ì´ë¦„ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì»¬ëŸ¼ ë³„ì¹­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<Section>
```ts
// schema.ts
import { integer, pgTable, varchar } from "drizzle-orm/pg-core";

export const users = pgTable('users', {
  id: integer(),
  firstName: varchar('first_name')
})
```
```ts
// query.ts
await db.select().from(users);
```
```sql
SELECT "id", "first_name" from users;
```
</Section>

### Camel ë° Snake ì¼€ì´ì‹±

ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ ì´ë¦„ì€ ì£¼ë¡œ `snake_case` ê·œì¹™ì„ ì‚¬ìš©í•˜ëŠ” ë°˜ë©´, TypeScriptì—ì„œëŠ” ëª¨ë¸ ì´ë¦„ì— `camelCase`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.
ì´ë¡œ ì¸í•´ ìŠ¤í‚¤ë§ˆì— ë§ì€ ë³„ì¹­ì„ ì •ì˜í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Drizzleì€ ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ì‹œ ì„ íƒì  ë§¤ê°œë³€ìˆ˜ë¥¼ í¬í•¨í•˜ì—¬ TypeScriptì˜ `camelCase`ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ `snake_case`ë¡œ ìë™ ë§¤í•‘í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ë§¤í•‘ì„ ìœ„í•´ Drizzle DB ì„ ì–¸ì—ì„œ `casing` ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë§¤ê°œë³€ìˆ˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ ëª…ëª… ê·œì¹™ì„ ì§€ì •í•˜ê³  ëª¨ë“  JavaScript í‚¤ë¥¼ ê·¸ì— ë”°ë¼ ë§¤í•‘í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤.

<Section>
```ts
// schema.ts
import { drizzle } from "drizzle-orm/node-postgres";
import { integer, pgTable, varchar } from "drizzle-orm/pg-core";

export const users = pgTable('users', {
  id: integer(),
  firstName: varchar()
})
```
```ts
// db.ts
const db = drizzle({ connection: process.env.DATABASE_URL, casing: 'snake_case' })
```
```ts
// query.ts
await db.select().from(users);
```
```sql
SELECT "id", "first_name" from users;
```
</Section>

### ê³ ê¸‰ ê¸°ëŠ¥

Drizzle ORMì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ê¸°ë²•ì´ ìˆìŠµë‹ˆë‹¤. Drizzleì´ ì™„ì „íˆ TypeScript íŒŒì¼ì— ìˆëŠ” í•œ, ì¼ë°˜ TypeScript í”„ë¡œì íŠ¸ì—ì„œ í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ ì‘ì—…ì„ ë³¸ì§ˆì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¼ë°˜ì ì¸ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ëŠ” ì»¬ëŸ¼ì„ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ë¶„ë¦¬í•œ ë‹¤ìŒ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ `updated_at`, `created_at`, `deleted_at` ì»¬ëŸ¼ì„ ìƒê°í•´ ë³´ì„¸ìš”. ë§ì€ í…Œì´ë¸”/ëª¨ë¸ì´ ì‹œìŠ¤í…œì˜ ì—”í‹°í‹° ìƒì„±, ì‚­ì œ, ì—…ë°ì´íŠ¸ë¥¼ ì¶”ì í•˜ê³  ë¶„ì„í•˜ê¸° ìœ„í•´ ì´ ì„¸ ê°€ì§€ í•„ë“œê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ì»¬ëŸ¼ì„ ë³„ë„ì˜ íŒŒì¼ì— ì •ì˜í•œ ë‹¤ìŒ importí•˜ì—¬ ëª¨ë“  í…Œì´ë¸” ê°ì²´ì— spreadí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<Section>
```ts
// columns.helpers.ts
const timestamps = {
  updated_at: timestamp(),
  created_at: timestamp().defaultNow().notNull(),
  deleted_at: timestamp(),
}
```
```ts
// users.sql.ts
export const users = pgTable('users', {
  id: integer(),
  ...timestamps
})
```
```ts
// posts.sql.ts
export const posts = pgTable('posts', {
  id: integer(),
  ...timestamps
})
```
</Section>

#### **ìŠ¤í‚¤ë§ˆ**

<Tabs items={['PostgreSQL', 'MySQL', 'SQLite']}>
<Tab>
\
PostgreSQLì—ëŠ” `schema`ë¼ëŠ” ì—”í‹°í‹°ê°€ ìˆìŠµë‹ˆë‹¤(ìš°ë¦¬ëŠ” ì´ê²ƒì„ `folders`ë¼ê³  ë¶ˆëŸ¬ì•¼ í•œë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤). ì´ëŠ” PostgreSQLì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

![](@/assets/images/postgresql-db-structure.png)

`pgSchema`ë¡œ PostgreSQL ìŠ¤í‚¤ë§ˆë¥¼ ê´€ë¦¬í•˜ê³  ê·¸ ì•ˆì— ë‹¤ë¥¸ ëª¨ë¸ì„ ë°°ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Drizzleë¡œ ê´€ë¦¬í•˜ë ¤ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
```ts
import { pgSchema } from "drizzle-orm/pg-core"

export const customSchema = pgSchema('custom');
```

ê·¸ëŸ° ë‹¤ìŒ ìŠ¤í‚¤ë§ˆ ê°ì²´ ë‚´ë¶€ì— í…Œì´ë¸”ì„ ë°°ì¹˜í•©ë‹ˆë‹¤.
```ts {5-7}
import { integer, pgSchema } from "drizzle-orm/pg-core";

export const customSchema = pgSchema('custom');

export const users = customSchema.table('users', {
  id: integer()
})
```
</Tab>
<Tab>
\
MySQLì—ëŠ” `Schema`ë¼ëŠ” ì—”í‹°í‹°ê°€ ìˆì§€ë§Œ MySQL ìš©ì–´ë¡œëŠ” ì´ê²ƒì´ `Database`ì™€ ë™ì¼í•©ë‹ˆë‹¤.

`drizzle-orm`ìœ¼ë¡œ ì •ì˜í•˜ê³  ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ `drizzle-kit`ì—ì„œëŠ” ê°ì§€ë˜ì§€ ì•Šìœ¼ë©° ë§ˆì´ê·¸ë ˆì´ì…˜ í”Œë¡œìš°ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

![](@/assets/images/mysql-db-structure.png)

Drizzleë¡œ ê´€ë¦¬í•˜ë ¤ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
```ts
import { mysqlSchema } from "drizzle-orm/mysql-core"

export const customSchema = mysqlSchema('custom');
```

ê·¸ëŸ° ë‹¤ìŒ ìŠ¤í‚¤ë§ˆ ê°ì²´ ë‚´ë¶€ì— í…Œì´ë¸”ì„ ë°°ì¹˜í•©ë‹ˆë‹¤.
```ts {5-7}
import { int, mysqlSchema } from "drizzle-orm/mysql-core";

export const customSchema = mysqlSchema('custom');

export const users = customSchema.table('users', {
  id: int()
})
```
</Tab>
<Tab>
\
SQLiteì—ëŠ” ìŠ¤í‚¤ë§ˆ ê°œë…ì´ ì—†ìœ¼ë¯€ë¡œ ë‹¨ì¼ SQLite íŒŒì¼ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œë§Œ í…Œì´ë¸”ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](@/assets/images/sqlite-db-structure.png)
</Tab>
</Tabs>

### ì˜ˆì œ

ê¸°ë³¸ ì‚¬í•­ì„ ì•Œì•˜ìœ¼ë‹ˆ ì‹¤ì œ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ìŠ¤í‚¤ë§ˆ ì˜ˆì œë¥¼ ì •ì˜í•˜ì—¬ ë” ë‚˜ì€ ì´í•´ë¥¼ ì–»ì–´ë´…ì‹œë‹¤.

> ëª¨ë“  ì˜ˆì œëŠ” `generateUniqueString`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. êµ¬í˜„ ì½”ë“œëŠ” ëª¨ë“  ìŠ¤í‚¤ë§ˆ ì˜ˆì œ ë‹¤ìŒì— ì œê³µë©ë‹ˆë‹¤.

<CodeTabs items={['PostgreSQL', 'MySQL', 'SQLite']}>
```ts copy
import { AnyPgColumn } from "drizzle-orm/pg-core";
import { pgEnum, pgTable as table } from "drizzle-orm/pg-core";
import * as t from "drizzle-orm/pg-core";

export const rolesEnum = pgEnum("roles", ["guest", "user", "admin"]);

export const users = table(
  "users",
  {
    id: t.integer().primaryKey().generatedAlwaysAsIdentity(),
    firstName: t.varchar("first_name", { length: 256 }),
    lastName: t.varchar("last_name", { length: 256 }),
    email: t.varchar().notNull(),
    invitee: t.integer().references((): AnyPgColumn => users.id),
    role: rolesEnum().default("guest"),
  },
  (table) => [
    t.uniqueIndex("email_idx").on(table.email)
  ]
);

export const posts = table(
  "posts",
  {
    id: t.integer().primaryKey().generatedAlwaysAsIdentity(),
    slug: t.varchar().$default(() => generateUniqueString(16)),
    title: t.varchar({ length: 256 }),
    ownerId: t.integer("owner_id").references(() => users.id),
  },
  (table) => [
    t.uniqueIndex("slug_idx").on(table.slug),
    t.index("title_idx").on(table.title),
  ]
);

export const comments = table("comments", {
  id: t.integer().primaryKey().generatedAlwaysAsIdentity(),
  text: t.varchar({ length: 256 }),
  postId: t.integer("post_id").references(() => posts.id),
  ownerId: t.integer("owner_id").references(() => users.id),
});
```
```ts copy
import { mysqlTable as table } from "drizzle-orm/mysql-core";
import * as t from "drizzle-orm/mysql-core";
import { AnyMySqlColumn } from "drizzle-orm/mysql-core";

export const users = table(
  "users",
  {
    id: t.int().primaryKey().autoincrement(),
    firstName: t.varchar("first_name", { length: 256 }),
    lastName: t.varchar("last_name", { length: 256 }),
    email: t.varchar({ length: 256 }).notNull(),
    invitee: t.int().references((): AnyMySqlColumn => users.id),
    role: t.mysqlEnum(["guest", "user", "admin"]).default("guest"),
  },
  (table) => [
    t.uniqueIndex("email_idx").on(table.email)
  ]
);

export const posts = table(
  "posts",
  {
    id: t.int().primaryKey().autoincrement(),
    slug: t.varchar({ length: 256 }).$default(() => generateUniqueString(16)),
    title: t.varchar({ length: 256 }),
    ownerId: t.int("owner_id").references(() => users.id),
  },
  (table) => [
    t.uniqueIndex("slug_idx").on(table.slug),
    t.index("title_idx").on(table.title),
  ]
);

export const comments = table("comments", {
  id: t.int().primaryKey().autoincrement(),
  text: t.varchar({ length: 256 }),
  postId: t.int("post_id").references(() => posts.id),
  ownerId: t.int("owner_id").references(() => users.id),
});
```
```ts copy
import { sqliteTable as table } from "drizzle-orm/sqlite-core";
import * as t from "drizzle-orm/sqlite-core";
import { AnySQLiteColumn } from "drizzle-orm/sqlite-core";

export const users = table(
  "users",
  {
    id: t.int().primaryKey({ autoIncrement: true }),
    firstName: t.text("first_name"),
    lastName: t.text("last_name"),
    email: t.text().notNull(),
    invitee: t.int().references((): AnySQLiteColumn => users.id),
    role: t.text().$type<"guest" | "user" | "admin">().default("guest"),
  },
  (table) => [
    t.uniqueIndex("email_idx").on(table.email)
  ]
);

export const posts = table(
  "posts",
  {
    id: t.int().primaryKey({ autoIncrement: true }),
    slug: t.text().$default(() => generateUniqueString(16)),
    title: t.text(),
    ownerId: t.int("owner_id").references(() => users.id),
  },
  (table) => [
    t.uniqueIndex("slug_idx").on(table.slug),
    t.index("title_idx").on(table.title),
  ]
);

export const comments = table("comments", {
  id: t.int().primaryKey({ autoIncrement: true }),
  text: t.text({ length: 256 }),
  postId: t.int("post_id").references(() => posts.id),
  ownerId: t.int("owner_id").references(() => users.id),
});
```
</CodeTabs>

**`generateUniqueString` êµ¬í˜„:**
```ts
function generateUniqueString(length: number = 12): string {
  const characters =
    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let uniqueString = "";

  for (let i = 0; i < length; i++) {
    const randomIndex = Math.floor(Math.random() * characters.length);
    uniqueString += characters[randomIndex];
  }

  return uniqueString;
}
```


#### ë‹¤ìŒ ë‹¨ê³„
<br/>
<Flex>
  <LinksList
    title='ìŠ¤í‚¤ë§ˆ ê´€ë¦¬'
    links={[
        ["ì»¬ëŸ¼ íƒ€ì…", "/docs/column-types/pg"],
        ["ì¸ë±ìŠ¤ ë° ì œì•½ì¡°ê±´", "/docs/indexes-constraints"],
        ["ë°ì´í„°ë² ì´ìŠ¤ ë·°", "/docs/views"],
        ["ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ", "/docs/schemas"],
        ["Sequence", "/docs/sequences"],
        ["í™•ì¥ ê¸°ëŠ¥", "/docs/extensions/pg"],
      ]}
  />
  <LinksList
    title='Zero to Hero'
    links={[
        ["ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°", "/docs/connect-overview"],
        ["ë°ì´í„° ì¿¼ë¦¬", "/docs/data-querying"],
        ["ë§ˆì´ê·¸ë ˆì´ì…˜", "/docs/migrations"],
      ]}
  />
</Flex>
